# Scalac - Scala Developer - GitHubRank Challenge

## Projects/Modules

**tl;dr:** go to `api` module for instructions on how to build and run.

### github-graph

[GitHub Graphql](https://docs.github.com/en/graphql) client based
on [Caliban](https://ghostdogpr.github.io/caliban/docs/client.html#graphql-client).

This project hosts code generated by Caliban using [GitHub.graph](GitHub.graphql) public schema file.

Code generation is explicit, meaning that, we need to do the following:

```shell
# pwd: ~/github-rank
sbt
```

and then:

```shell
# on the SBT CLI
sbt:github-graph-client> calibanGenClient GitHub.graphql github-graph-client/src/main/scala/com/github/graph/GitHubGraphClient.scala --splitFiles true --packageName "com.github.graph"
```

---

> NOTE: Code in this module MUST NOT be manually edited/modified.

### core

This project hosts mechanism to query GtiHub graph.

This project depends on `github-graph` project.

### api

This project holds a runnable http service. You can review Redoc API
docs [http://localhost:8080/docs](http://localhost:8080/docs)

#### Build and run

In order to run/consume the api we first need to build it:

```shell
sbt assemblyApi
```

Then we can run the Ã¼ber jar as follows:

```shell
java -DGH_TOKEN="your_super_github_auth_token" -jar api/target/scala-2.13/github_rank_api.jar
```

Server will be exposed in port `8080` i.e. [http://localhost:8080/docs](http://localhost:8080/docs)

### cli

This project is used to experiment with queries in a "real world" fashion.

## TODOs, questions, and thing to improve maybe?

- **Q:** use `toRequestWith` in order to handle what's documented
  in [possible-caliban-issue.md](possible-caliban-issue.md)
- **[ ] TODO:** Add tests =(